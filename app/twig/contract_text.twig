{% extends "page.twig" %}

{% block title %}{{ 'contract_text_page.name'|trans }} — {{ contract.display_name }} — {{ 'nav.contracts'|trans }}{% endblock %}

{% block breadcrumbs %}
        <li><a href="/" aria-current="page">{{ 'common.short_name'|trans }}</a></li>
        <li><a href="/contracts/" aria-current="page">{{ 'nav.contracts'|trans }}</a></li>
        <li><a href="/contracts/{{ contract.hash }}/" aria-current="page">{{ contract.display_name }}</a></li>
        <li class="is-active"><a href="#" aria-current="page">{{ 'contract_text_page.name'|trans }}</a></li>
{% endblock %}

{% block content %}
<style>
        pre {
                white-space: pre-wrap;
                word-wrap: break-word;
        }
</style>
<h1 class="title">{{ 'contract_page.header'|trans }}: {{ contract.display_name }}</h1>
<h1 class="subtitle">
        <span class="is-family-monospace">{{ contract.hash }}</span>
</h1>

<div class="box">
        {% if invalid_hash %}
                <section class="hero is-warning">
                        <div class="hero-body">
                                <p class="title">{{ 'contract_text_page.wrong_hash.header'|trans }}</p>
                                <p class="subtitle">{{ 'contract_text_page.wrong_hash.text'|trans }}<br>
                                        <span class="is-family-monospace">{{ calculated_hash }}</span></p>
                        </div>
                </section>
        {% else %}
                <section class="hero is-success">
                        <div class="hero-body">
                                <p class="title">{{ 'contract_text_page.right_hash.header'|trans }}</p>
                                <p class="subtitle">{{ 'contract_text_page.right_hash.text'|trans }}</p>
                        </div>
                </section>
        {% endif %}
        <pre>{{ contract.text }}</pre>
</div>

<h1 class="title">{{ 'contract_sign.sign_preform.name'|trans }}</h1>
<form action="/contracts/{{ contract.hash }}/sign" method="get">
    <div class="field">
        <label class="label" for="account_id">{{ 'editor.stellar_account'|trans }}</label>
        <input
                id="account_id"
                class="input"
                type="text"
                name="id"
                placeholder="G..."
                value="{{ default_id }}"
                maxlength="56"
        />
        <p class="help">{{ 'contract_sign.sign_preform.help'|trans }}</p>
    </div>
    <div class="field is-grouped">
        <div class="control">
            <input type="reset" class="button is-light" value="Reset">
        </div>
        <div class="control">
            <input type="submit" class="button is-link" value="Edit →">
        </div>
    </div>
</form>

{% endblock %}
