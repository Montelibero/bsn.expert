{% extends "page.twig" %}

{% block title %}{{ display_name }} — Accounts{% endblock %}

{% block breadcrumbs %}
        <li><a href="/" aria-current="page">BSN</a></li>
        <li><a href="/accounts/" aria-current="page">Accounts</a></li>
        <li class="is-active"><a href="#" aria-current="page">{{ account_short_id }}</a></li>
{% endblock %}

{% block content %}
<h1 class="title">{{ display_name }}
        {% if is_logged %}
        <a class="button is-outlined {% if not is_contact  %}is-warning{% else %}is-primary{% endif %}" href="/contacts/{{ account_id }}"><span class="icon"><i class="fa-regular fa-address-book"></i></span></a>
        {% if session.stellar_id %}
        <a class="button is-outlined is-primary" href="/editor/{{ session.stellar_id }}/?id={{ account_id }}"><span class="icon"><i class="fa-regular fa-square-check"></i></span></a>
        {% endif %}
        {% endif %}
</h1>
<h1 class="subtitle">
        <span class="stellar_address is-family-monospace">{{ account_id }}</span><br>
        Alternative viewers: <a class="tag is-primary" href="https://stellar.expert/explorer/public/account/{{ account_id }}">Stellar.Expert</a>
        <a class="tag is-info" href="https://scopuly.com/account/{{ account_id }}">Scopuly</a>
        <a class="tag is-warning" href="https://bsn.brainbox.no/accounts/{{ account_id }}">BrainBox</a>
        <br>
        {% if session.show_telegram_usernames and telegram_username %}
        Telegram: <a href="https://t.me/{{ telegram_username }}">@{{ telegram_username }}</a>{% endif %}<br>
        BSN score: {{ bsn_score }}
</h1>
<h1 class="subtitle"></h1>
{% if name or about or website %}
<dl class="box">
    {% if name %}
        <dt class="title is-4">Name</dt>
        <dd class="subtitle is-4">
            {% for item in name %}
                {{ item }}<br>
            {% endfor %}
        </dd>
    {% endif %}
    {% if about %}
        <dt class="title is-4">About</dt>
        <dd class="subtitle is-4">
            {% for item in about %}
                {{ item }}<br>
            {% endfor %}
        </dd>
    {% endif %}
    {% if website %}
        <dt class="title is-4">Website</dt>
        <dd class="subtitle is-4">
            {% for item in website %}
                <a href="{{ item }}">{{ item }}</a><br>
            {% endfor %}
        </dd>
    {% endif %}
</dl>
{% endif %}

<div class="columns">
<div class="column">
<h2 class="title">Income tags</h2>
{% if income_tags %}
{% for tag in income_tags %}
<dl class="block">
        <dt class="title is-4">{{ tag.name }} <a href="/tags/{{ tag.name }}">→</a></dt>
        {% for link in tag.links %}
                <dd>
                {% if tag.pair %}{% if link.has_pair %}🟢{% elseif tag.pair_strong %}🔴{% else %}🟡{% endif %}{% else %}⚪️{% endif %}
                {{ include('account_link.twig', {id: link.account.id, name: link.account.display_name}, with_context = false) }}
                </dd>
        {% endfor %}
</dl>
{% endfor %}
{% else %}
<p>The account has not any income tag.</p>
{% endif %}
</div>
<div class="column">
<h2 class="title">Outcome tags</h2>
{% if outcome_tags %}
{% for tag in outcome_tags %}
<dl class="block">
        <dt class="title is-4">{{ tag.name }} <a href="/tags/{{ tag.name }}">→</a></dt>
        {% for link in tag.links %}
                <dd>
                {% if tag.pair %}{% if link.has_pair %}🟢{% elseif tag.pair_strong %}🔴{% else %}🟡{% endif %}{% else %}⚪️{% endif %}
                {{ include('account_link.twig', {id: link.account.id, name: link.account.display_name}, with_context = false) }}
                </dd>
        {% endfor %}
</dl>
{% endfor %}
{% else %}
<p>The account has not any outcome tag.</p>
{% endif %}
</div>
</div>

{% endblock %}
